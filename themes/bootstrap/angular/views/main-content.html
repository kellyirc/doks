
<nav class="navbar navbar-default navbar-static-top" role="navigation">
    <div class="navbar-inner">
        <div class="container">
            <a class="navbar-brand" ng-bind="config.pageName" ui-sref="root">Doks</a>
            <ul class="nav navbar-nav">
                <li ng-repeat="category in categories" ui-sref-active="active" class="item">
                    <a ui-sref="hasCategory({category: category})">{{category}}</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="container">
    <div class="row">
        <div class="col-md-4">
            <div class="panel panel-default" bs-affix data-offset-top="-15">
                <div class="panel-heading">Navigate</div>
                <div class="panel-body nav-container">
                    <div ng-repeat="category in orderedData | filter:urlParams.category">
                        <div ng-repeat="mainType in category.children track by $index | filter:{name:urlParams.mainType}">
                            <div ng-repeat="mainObj in mainType.children">
                                <span ng-if="!urlParams.category">
                                    <a ui-sref="hasCategory({
                                        category: category.name
                                    })">{{category.name}}</a>
                                    <span class="right-arrow">&rarr;</span>
                                </span>
                                <span ng-if="!urlParams.mainType">
                                    <a ui-sref="hasMainType({
                                        category: category.name,
                                        mainType: mainType.name
                                    })">{{mainType.name}}</a>
                                    <span class="right-arrow">&rarr;</span>
                                </span>
                                <span>
                                    <a ui-sref="hasSubType({
                                        category: category.name,
                                        mainType: mainType.name,
                                        subType:  mainObj[config.keys.subType].basicInfo
                                    })">{{mainObj[config.keys.subType].basicInfo}}</a>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-8">
            <div class="row">
                <div class="col-md-12" ncy-breadcrumb></div>
            </div>
            <div class="row">
                <div ng-repeat="category in orderedData | filter:urlParams.category">
                    <div ng-repeat="mainType in category.children track by $index" ng-hide="urlParams.mainType && mainType.name !== urlParams.mainType">
                        <div ng-repeat="mainObj in mainType.children" ng-hide="urlParams.subType && mainObj[config.keys.subType].basicInfo !== urlParams.subType">
                            <div class="panel panel-default">

                                <div class="panel-heading">
                                    <span ng-if="!urlParams.category">
                                        <span>{{category.name}}</span>
                                        <span class="right-arrow">&rarr;</span>
                                    </span>

                                    <span ng-if="!urlParams.mainType">
                                        <span>{{mainType.name}}</span>
                                        <span class="right-arrow">&rarr;</span>
                                    </span>

                                    <span>
                                        <span>{{mainObj[config.keys.subType].basicInfo}}</span>
                                    </span>

                                    <span class="pull-right label label-default">
                                        <span>{{mainObj.fileName}}</span>#{{mainObj.lineNumber}}
                                    </span>
                                </div>

                                <div class="panel-body">
                                    <div class="row" ng-if="mainObj.desc">
                                        <div class="col-md-12">
                                            {{mainObj.desc.basicInfo}}
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <ul class="no-prefix">
                                                <li ng-repeat="tag in mainObj._props track by $index">
                                                    <span>@</span><span>{{tag.name}}</span>
                                                    <span ng-if="tag.value && tag.value.type">({{tag.value.type}})</span>
                                                    <span ng-if="tag.value.basicInfo">{{tag.value.basicInfo}}</span>
                                                    <p class="tag-desc-item" ng-if="tag.value.extendedInfo">{{tag.value.extendedInfo}}</p>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>